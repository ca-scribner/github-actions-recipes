# Replaces snap with something that'll fail sometimes, then shows it happened
name: Faily snap
on: 
  push:
    branches: [master]
  pull_request:
    types: [opened, synchronize, reopened]
  workflow_dispatch:

jobs:
  work_always:
    runs-on: ubuntu-latest
    steps:
      - name: Install something successfully
        run: sudo snap install yq
  work_never:
    runs-on: ubuntu-latest
    steps:
      - name: which snap
        run: which snap
      - name: Replace snap with a broken version
        run: sudo echo "echo 123; exit 1" > `which snap`
      - name: Install something unsuccessfully
        run: sudo snap install yq
